# Postman WebSocket í…ŒìŠ¤íŠ¸ - ë©”ì‹œì§€ ì˜ˆì œ ëª¨ìŒ

## ğŸ“‹ Postmanì—ì„œ ë³µì‚¬-ë¶™ì—¬ë„£ê¸°í•  ìˆ˜ ìˆëŠ” ë©”ì‹œì§€ ì˜ˆì œ

### ì˜ˆì œ 1: ê¸°ë³¸ ì±„íŒ… (A ì‚¬ìš©ì)

**ì„¤ëª…:** ì‚¬ìš©ì Aê°€ ì¸ì‚¬ ë©”ì‹œì§€ ì „ì†¡

```json
{
  "hd": {
    "event": "chat.message",
    "role": "A"
  },
  "bd": {
    "text": "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Aì…ë‹ˆë‹¤."
  }
}
```

**ì˜ˆìƒ ì‘ë‹µ:**
```json
{
  "status": "success",
  "message": "Message processed",
  "hd": {
    "event": "chat.message",
    "role": "A"
  },
  "bd": {
    "text": "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Aì…ë‹ˆë‹¤."
  },
  "sid": "room001",
  "participant": "A"
}
```

---

### ì˜ˆì œ 2: ê¸°ë³¸ ì±„íŒ… (B ì‚¬ìš©ì)

**ì„¤ëª…:** ì‚¬ìš©ì Bê°€ ì‘ë‹µ ë©”ì‹œì§€ ì „ì†¡

```json
{
  "hd": {
    "event": "chat.message",
    "role": "B"
  },
  "bd": {
    "text": "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Bì…ë‹ˆë‹¤."
  }
}
```

---

### ì˜ˆì œ 3: ê¸´ ë©”ì‹œì§€

**ì„¤ëª…:** ë” ìƒì„¸í•œ ë‚´ìš© ì „ì†¡

```json
{
  "hd": {
    "event": "chat.message",
    "role": "A"
  },
  "bd": {
    "text": "ì˜¤ëŠ˜ ë‚ ì”¨ê°€ ì •ë§ ì¢‹ë„¤ìš”. ë­”ê°€ íŠ¹ë³„í•œ ì¼ì´ ìˆë‚˜ìš”?",
    "timestamp": "2025-11-22T15:30:00Z"
  }
}
```

---

### ì˜ˆì œ 4: íŠ¹ìˆ˜ ë¬¸ì í¬í•¨

**ì„¤ëª…:** ì´ëª¨ì§€, íŠ¹ìˆ˜ë¬¸ì ë“± í¬í•¨

```json
{
  "hd": {
    "event": "chat.message",
    "role": "B"
  },
  "bd": {
    "text": "ë„¤! ğŸ˜Š ì •ë§ ì¢‹ì€ í•˜ë£¨ì…ë‹ˆë‹¤ ğŸŒ"
  }
}
```

---

### ì˜ˆì œ 5: ë‹¤ì¤‘ ë¼ì¸ ë©”ì‹œì§€

**ì„¤ëª…:** ì¤„ë°”ê¿ˆì´ ìˆëŠ” ë©”ì‹œì§€

```json
{
  "hd": {
    "event": "chat.message",
    "role": "A"
  },
  "bd": {
    "text": "í•  ì¼ ëª©ë¡:\n1. íšŒì˜ ì°¸ì„\n2. ì´ë©”ì¼ í™•ì¸\n3. ì½”ë“œ ê²€í† "
  }
}
```

---

### ì˜ˆì œ 6: ë©”íƒ€ë°ì´í„° í¬í•¨

**ì„¤ëª…:** ì¶”ê°€ ì •ë³´ì™€ í•¨ê»˜ ì „ì†¡

```json
{
  "hd": {
    "event": "chat.message",
    "role": "A"
  },
  "bd": {
    "text": "í™”ë©´ ê³µìœ  ë§í¬: https://meet.example.com/room123",
    "metadata": {
      "type": "link",
      "source": "meeting"
    }
  }
}
```

---

### ì˜ˆì œ 7: LLM ì—­í•  ë©”ì‹œì§€ (ë¯¸ë˜ ì‚¬ìš©)

**ì„¤ëª…:** LLMì´ ë³´ë‚´ëŠ” ì‘ë‹µ (í˜„ì¬ëŠ” mock)

```json
{
  "hd": {
    "event": "llm.invoke",
    "role": "llm"
  },
  "bd": {
    "prompt": "ë‘ ì‚¬ìš©ìì˜ ëŒ€í™”ë¥¼ ìš”ì•½í•´ì£¼ì„¸ìš”",
    "context": {
      "messages": 2,
      "participants": ["A", "B"]
    }
  }
}
```

---

### ì˜ˆì œ 8: í•œê¸€ í…ŒìŠ¤íŠ¸

**ì„¤ëª…:** ë‹¤ì–‘í•œ í•œê¸€ ë¬¸ìì—´ í…ŒìŠ¤íŠ¸

```json
{
  "hd": {
    "event": "chat.message",
    "role": "B"
  },
  "bd": {
    "text": "í…ŒìŠ¤íŠ¸: í•œê¸€, í•œêµ­ì–´, í•œë¬¸(æ¼¢æ–‡), í˜¼í•©ëœ í…ìŠ¤íŠ¸ì…ë‹ˆë‹¤."
  }
}
```

---

### ì˜ˆì œ 9: ì†ì„± í•„ë“œ í™•ì¥

**ì„¤ëª…:** í–¥í›„ í™•ì¥ì„ ê³ ë ¤í•œ ì¶”ê°€ í•„ë“œ

```json
{
  "hd": {
    "event": "chat.message",
    "role": "A",
    "version": "1.0",
    "timestamp": "2025-11-22T16:45:00Z"
  },
  "bd": {
    "text": "ë‹¤ì–‘í•œ í•„ë“œë¥¼ í¬í•¨í•œ ë©”ì‹œì§€",
    "priority": "normal",
    "tags": ["important", "discussion"]
  }
}
```

---

### ì˜ˆì œ 10: ì—ëŸ¬ ì²˜ë¦¬ í…ŒìŠ¤íŠ¸

**ì„¤ëª…:** ì˜ëª»ëœ í˜•ì‹ìœ¼ë¡œ í…ŒìŠ¤íŠ¸ (ì„œë²„ ì—ëŸ¬ ì‘ë‹µ í™•ì¸)

```json
{
  "hd": {
    "event": "chat.message"
  },
  "bd": {
    "text": "roleì´ ì—†ìŠµë‹ˆë‹¤"
  }
}
```

**ì˜ˆìƒ ì‘ë‹µ:**
```json
{
  "status": "success",
  "message": "Message processed",
  "participant": "user"
}
```

*(roleì´ ì—†ìœ¼ë©´ ê¸°ë³¸ê°’ "user" ì‚¬ìš©)*

---

## ğŸ”„ Postman í…ŒìŠ¤íŠ¸ íë¦„ ì˜ˆì œ

### ì™„ì „í•œ ì‹œë‚˜ë¦¬ì˜¤ í…ŒìŠ¤íŠ¸ (Copy-Paste)

**1ë‹¨ê³„: ë‘ ê°œ íƒ­ ì—´ê¸°**
```
Tab 1: ws://localhost:3000/v1/session/chat?sid=scenario_001
Tab 2: ws://localhost:3000/v1/session/chat?sid=scenario_001
```

**2ë‹¨ê³„: Tab 1 (A)ì—ì„œ ë³´ë‚´ê¸°**
```json
{
  "hd": {"event": "chat.message", "role": "A"},
  "bd": {"text": "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Aì…ë‹ˆë‹¤."}
}
```

**3ë‹¨ê³„: Tab 2 (B)ì—ì„œ ë°›ìŒ**
*(ìë™ ìˆ˜ì‹ ë¨)*

**4ë‹¨ê³„: Tab 2 (B)ì—ì„œ ì‘ë‹µ**
```json
{
  "hd": {"event": "chat.message", "role": "B"},
  "bd": {"text": "ì•ˆë…•í•˜ì„¸ìš”! ì €ëŠ” Bì…ë‹ˆë‹¤."}
}
```

**5ë‹¨ê³„: Redis í™•ì¸**
```bash
python test/check_redis_chat.py scenario_001
```

---

## ğŸ“Š ë©”ì‹œì§€ í˜•ì‹ ê²€ì¦ ì²´í¬ë¦¬ìŠ¤íŠ¸

ë©”ì‹œì§€ ì „ì†¡ ì „ì— í™•ì¸:

- [ ] `hd.event` í•„ë“œ ìˆìŒ
- [ ] `hd.role` í•„ë“œ ìˆìŒ (A, B, llm ë“±)
- [ ] `bd` í•„ë“œ ìˆìŒ
- [ ] JSON í˜•ì‹ì´ ìœ íš¨í•¨ (Postmanì—ì„œ ë¹¨ê°„ ì—ëŸ¬ ì—†ìŒ)
- [ ] ì¤„ë°”ê¿ˆì€ `\n`ìœ¼ë¡œ ì²˜ë¦¬ë¨
- [ ] íŠ¹ìˆ˜ë¬¸ìëŠ” properí•˜ê²Œ escapedë¨

---

## ğŸ¨ Postman UI íŒ

### ë©”ì‹œì§€ í¬ë§·íŒ…

1. **Pretty Print**
   - ë©”ì‹œì§€ ì…ë ¥ í›„ í•˜ë‹¨ **Beautify** í´ë¦­
   - JSONì´ ì •ë ¬ë˜ì–´ ê°€ë…ì„± í–¥ìƒ

2. **ìë™ ì™„ì„±**
   - `{` ì…ë ¥ í›„ `Ctrl+Space` (ë˜ëŠ” `Cmd+Space` on Mac)
   - í•„ë“œ ìë™ ì™„ì„±

3. **ë³€ìˆ˜ ì‚¬ìš©**
   - `{{variable_name}}` ë¬¸ë²•ìœ¼ë¡œ ë³€ìˆ˜ ì°¸ì¡°
   - ì˜ˆ: `"role": "{{participant}}"`

---

## ğŸ”— ê´€ë ¨ íŒŒì¼

- **ì‹œê°ì  ì„¤ì • ê°€ì´ë“œ:** `test/POSTMAN_GUIDE.md`
- **ìë™ í…ŒìŠ¤íŠ¸:** `test/test_websocket_chat.py`
- **Redis í™•ì¸:** `test/check_redis_chat.py`
- **ì‹œì‘ ê°€ì´ë“œ:** `test/QUICK_START.md`

---

**ğŸ’¡ íŒ:** ì´ ì˜ˆì œë“¤ì„ Postmanì˜ **Collections** â†’ **Save as template**ìœ¼ë¡œ ì €ì¥í•˜ë©´ ë‚˜ì¤‘ì— ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤!
